{
  "title": "OpenCBDC: Technical Architecture of a High-Performance CBDC Transaction Processor",
  "description": "OpenCBDC is an open-source research project by MIT DCI and the Federal Reserve Bank of Boston exploring the technical design space for a US CBDC. The project produced two architectures: 'Hamilton' (atomizer-based) and a '2-phase commit' design, both achieving high throughput (>100K transactions/second) and low latency (<2 seconds). OpenCBDC uses a UTXO-based transaction model inspired by Bitcoin but optimized for central bank requirements including compliance hooks, auditability, and integration with existing financial infrastructure. The system is designed as a 'Level 0' transaction processor — the core settlement layer that intermediaries build upon — rather than a consumer-facing payment system. Key design principles include separation of concerns (transaction processing vs. policy), horizontal scalability through sharding, and cryptographic privacy features.",
  "nodes": [
    {
      "node_id": "1",
      "title": "Design Philosophy: Level 0 Transaction Processor",
      "summary": "Explains the fundamental design decision to build a 'Level 0' transaction processor rather than a complete payment system. The central bank operates the core ledger (Level 0), which handles only transaction validation and settlement. Consumer-facing features — wallets, identity management, compliance screening, and user interfaces — are provided by regulated intermediaries at higher levels. This separation mirrors the existing two-tier banking system and allows the central bank to focus on what it does best (monetary operations) while leveraging private sector innovation for user-facing services. The UTXO model is chosen over account-based models for its natural parallelism, privacy properties, and resistance to certain attack classes.",
      "start_page": 1,
      "end_page": 4,
      "content": "OpenCBDC is designed as a 'Level 0' transaction processor — the foundational settlement layer. The central bank operates this core layer, which handles: (1) Transaction validation — verifying that inputs exist, are unspent, and authorization rules are satisfied. (2) Settlement finality — once a transaction is committed, it is irreversible. (3) Monetary policy hooks — the ability to implement interest rates, holding limits, or other policy tools at the protocol level. Consumer-facing features are deliberately excluded from Level 0. Regulated intermediaries (banks, fintechs, payment processors) build 'Level 1+' services on top: wallets, identity/KYC, compliance screening, user interfaces, and value-added services. This architecture mirrors the existing two-tier banking system where the central bank provides wholesale services and commercial banks provide retail services. The UTXO (Unspent Transaction Output) model is chosen over account-based alternatives because: (1) UTXOs enable natural transaction parallelism — independent transactions can be validated simultaneously without locks. (2) UTXOs provide inherent privacy — each payment creates new outputs, making transaction graph analysis harder than with account balances. (3) UTXOs prevent reentrancy attacks and other state-consistency issues common in account-based smart contract systems.",
      "nodes": []
    },
    {
      "node_id": "2",
      "title": "Architecture 1: Atomizer-Based Design (Hamilton)",
      "summary": "Describes the atomizer architecture that became the Hamilton system published at NSDI 2023. The pipeline consists of three main components: Sentinels (validate individual transactions for well-formedness and authorization), the Atomizer (provides global ordering and ensures no double-spends by atomically committing sets of transactions), and Shards (maintain the UTXO set state, partitioned by UTXO ID for horizontal scalability). The atomizer is the key innovation — it acts as a sequencer that batches transactions into blocks and ensures exactly-once processing. The architecture achieves >170K transactions/second with sub-second latency in benchmarks.",
      "start_page": 4,
      "end_page": 8,
      "content": "The atomizer architecture processes transactions through a three-stage pipeline: (1) Sentinels — stateless validators that check transaction well-formedness: correct structure, valid signatures/authorization, and basic policy compliance. Sentinels are horizontally scalable — more sentinels handle more incoming transaction volume. (2) Atomizer — the global sequencer that prevents double-spends. It receives validated transactions from sentinels and batches them into atomizer blocks. Within each block, the atomizer checks that no two transactions spend the same UTXO. Conflicting transactions are rejected. The atomizer provides total ordering and settlement finality. (3) Shards — maintain partitions of the UTXO set. Each shard is responsible for a range of UTXO IDs (partitioned by hash). When a transaction is committed by the atomizer, the relevant shards update their state: spent UTXOs are removed, new UTXOs are added. Shards are horizontally scalable — more shards handle a larger UTXO set. Benchmark results: >170,000 transactions per second throughput with sub-second settlement latency on a cluster of commodity servers. The pipeline design allows each stage to operate independently and in parallel, maximizing hardware utilization.",
      "nodes": []
    },
    {
      "node_id": "3",
      "title": "Architecture 2: Two-Phase Commit Design",
      "summary": "Presents an alternative architecture using distributed two-phase commit (2PC) instead of a central atomizer. In this design, sentinels coordinate directly with shards using a 2PC protocol: Phase 1 (Prepare) — the sentinel asks each relevant shard to lock the transaction's input UTXOs. Phase 2 (Commit/Abort) — if all shards lock successfully, the sentinel commits the transaction; if any shard rejects (UTXO already spent), the transaction is aborted and all locks are released. This architecture eliminates the atomizer as a potential bottleneck but requires more complex shard logic and has different fault tolerance properties. It achieves comparable throughput to the atomizer design for many workloads.",
      "start_page": 8,
      "end_page": 11,
      "content": "The two-phase commit architecture eliminates the central atomizer. Sentinels coordinate transaction commitment directly with shards: Phase 1 (Prepare) — the sentinel sends a prepare message to each shard holding an input UTXO. Each shard checks if the UTXO is unspent and not locked by another pending transaction. If available, the shard locks the UTXO and responds 'prepared'. If the UTXO is spent or locked, it responds 'abort'. Phase 2 (Commit) — if all shards respond 'prepared', the sentinel sends a commit message. Shards permanently remove the spent UTXOs and create new output UTXOs. If any shard responded 'abort', the sentinel sends an abort message and all locks are released. Trade-offs versus the atomizer design: (1) No single sequencer bottleneck — throughput scales with the number of sentinels. (2) More complex shard logic — shards must handle locking, timeouts, and recovery. (3) Different consistency guarantees — 2PC provides strong consistency per transaction but doesn't provide global ordering across transactions. (4) Higher latency for conflicting transactions — lock contention can increase abort rates under high contention workloads. Both architectures achieve similar peak throughput (>100K tx/sec) but have different performance profiles under various workload patterns.",
      "nodes": []
    },
    {
      "node_id": "4",
      "title": "Privacy, Compliance, and Policy Considerations",
      "summary": "Discusses how OpenCBDC addresses the tension between privacy and regulatory compliance. The UTXO model provides baseline privacy (no visible account balances), but additional cryptographic techniques are explored: (1) Confidential transactions — hiding transaction amounts using Pedersen commitments while preserving the ability to verify conservation (inputs = outputs). (2) Selective disclosure — allowing users to prove compliance properties (e.g., 'this transaction is below the reporting threshold') without revealing the actual amount. (3) Audit mechanisms — the central bank can audit the total money supply without seeing individual transactions. The system is designed to support multiple privacy-compliance configurations, recognizing that different jurisdictions will make different policy choices.",
      "start_page": 11,
      "end_page": 14,
      "content": "OpenCBDC addresses privacy-compliance tension through configurable mechanisms: (1) Baseline UTXO privacy — the UTXO model does not expose account balances. Each transaction creates new UTXOs, making it harder to track individual users' total holdings compared to account-based systems. (2) Confidential transactions — transaction amounts can be hidden using Pedersen commitments. Validators verify that inputs >= outputs (no money creation) without seeing the amounts, using range proofs to prevent negative values. (3) Selective disclosure — zero-knowledge proofs allow users to prove compliance properties: 'this transfer is below $10,000' (BSA reporting threshold), 'the sender passed KYC with an authorized intermediary', or 'total holdings are below the CBDC holding limit'. The underlying values remain private. (4) Central bank audit — special audit keys allow the central bank to verify total money supply and aggregate statistics without accessing individual transaction data. The key principle is that privacy and compliance are not binary — different privacy levels can coexist in the same system. The intermediary layer (Level 1) handles identity and KYC, while the core ledger (Level 0) provides cryptographic privacy tools that intermediaries can use to meet regulatory requirements without creating a surveillance infrastructure.",
      "nodes": []
    },
    {
      "node_id": "5",
      "title": "Performance Results and Deployment Considerations",
      "summary": "Presents benchmark results and discusses practical deployment. Both architectures achieve throughput exceeding 100,000 transactions per second on commodity hardware, with settlement latency under 2 seconds. The system is designed for horizontal scalability — adding more shards increases capacity linearly. Deployment considerations include integration with existing payment systems (FedNow, ACH, Fedwire), disaster recovery and geographic distribution, key management for the central bank, and the regulatory framework needed to authorize intermediaries. The open-source nature of the project is emphasized as enabling broad review and preventing vendor lock-in.",
      "start_page": 14,
      "end_page": 16,
      "content": "Performance benchmarks demonstrate production viability: Atomizer architecture: >170,000 tx/sec throughput, <1 second median latency, tested with up to 100 shards. Two-phase commit: >100,000 tx/sec throughput, <2 second median latency, with better scaling under low-contention workloads. Both architectures scale horizontally — doubling shards approximately doubles throughput for non-conflicting transactions. Deployment considerations: (1) Integration — APIs designed for compatibility with existing payment rails (FedNow instant payments, ACH batch processing, Fedwire large-value transfers). (2) Geographic distribution — shards can be distributed across data centers for disaster recovery, with the atomizer/2PC protocol handling coordination. (3) Key management — the central bank's signing keys use HSMs (Hardware Security Modules) with key ceremony procedures. (4) Intermediary authorization — a regulatory framework governs which entities can operate Level 1 services. The project is fully open-source (MIT license) to enable public review, academic research, and prevent vendor lock-in.",
      "nodes": []
    }
  ],
  "_metadata": {
    "source_file": "opencbdc_tx_processor.pdf",
    "total_pages": 16,
    "source_path": "",
    "authors": ["MIT DCI", "Federal Reserve Bank of Boston"],
    "venue": "MIT DCI / Federal Reserve Bank of Boston",
    "year": 2022
  }
}
