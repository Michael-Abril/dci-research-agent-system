{
  "title": "zkLedger: Privacy-Preserving Auditing for Distributed Ledgers",
  "description": "zkLedger is a system for privacy-preserving auditing of transactions on distributed ledgers, published at USENIX NSDI 2018 by Neha Narula, Willy Vasquez, and Madars Virza. The core problem: financial regulators need to audit transactions for compliance (detecting fraud, verifying tax obligations, checking sanctions), but users want transaction privacy. Traditional approaches force a binary choice — either transactions are transparent (enabling audit but sacrificing privacy) or they are private (protecting users but preventing audit). zkLedger resolves this tension using zero-knowledge proofs that allow auditors to verify aggregate properties of transaction data (total assets, compliance with limits, absence of negative balances) without seeing individual transaction amounts or counterparties. The system uses Pedersen commitments to hide amounts and Schnorr-based zero-knowledge proofs for verification. It demonstrates that privacy and regulatory compliance can coexist in digital financial systems.",
  "nodes": [
    {
      "node_id": "1",
      "title": "Problem: The Privacy-Auditing Tension",
      "summary": "Defines the fundamental tension between transaction privacy and regulatory auditability. Financial regulations require institutions to report transactions, verify tax compliance, detect money laundering, and enforce sanctions. These requirements assume auditors can see transaction details. Distributed ledger systems offering privacy (Zcash, Monero) make regulatory compliance difficult or impossible. Systems without privacy (Bitcoin, Ethereum) expose all financial activity to everyone, not just regulators. zkLedger introduces a middle ground: transactions are private from other users but auditable by authorized regulators using zero-knowledge proofs.",
      "start_page": 1,
      "end_page": 3,
      "content": "The privacy-auditing tension in distributed ledgers: Traditional financial systems separate privacy from auditing — banks see all transactions but share information only with authorized regulators. This centralized trust model doesn't map to distributed ledgers. Two extremes: (1) Transparent ledgers (Bitcoin, Ethereum) — every transaction is visible to everyone. Regulators can audit, but so can competitors, stalkers, and anyone else. Financial privacy is impossible. (2) Private ledgers (Zcash, Monero) — transactions are hidden from everyone, including regulators. Privacy is achieved but at the cost of auditability: regulators cannot verify tax compliance, detect money laundering, or enforce sanctions without full decryption capabilities that would negate privacy. Neither extreme is acceptable for regulated financial systems. Banks need privacy from competitors and the public, but regulators need auditing capabilities for systemic risk assessment, compliance verification, and fraud detection. zkLedger's insight: use zero-knowledge proofs to allow auditors to verify specific properties (total assets equal total liabilities, no negative balances, amounts below sanctioned thresholds) without revealing the underlying transaction data. This preserves privacy for normal operations while enabling targeted regulatory oversight.",
      "nodes": []
    },
    {
      "node_id": "2",
      "title": "Cryptographic Design: Pedersen Commitments and ZK Proofs",
      "summary": "Describes zkLedger's cryptographic construction. Transaction amounts are hidden using Pedersen commitments — a cryptographic scheme that hides a value while allowing mathematical operations on the hidden values (homomorphic property). The commitment to an amount 'v' is computed as C = g^v * h^r, where r is a random blinding factor. The homomorphic property allows summing committed values: C1 * C2 = g^(v1+v2) * h^(r1+r2). This enables auditors to verify that total assets equal total liabilities by checking that the product of all commitments equals a commitment to zero. Zero-knowledge proofs (based on Schnorr protocols) prove additional properties: amounts are non-negative (range proofs), assets don't exceed limits, and specific compliance conditions hold.",
      "start_page": 3,
      "end_page": 7,
      "content": "zkLedger's cryptographic foundation: (1) Pedersen commitments — each transaction amount v is committed as C = g^v * h^r, where g, h are generator points on an elliptic curve and r is a random blinding factor. Properties: Hiding — C reveals nothing about v without knowing r. Binding — the committer cannot change v after committing (finding v', r' such that g^v' * h^r' = C requires solving the discrete log problem). Homomorphic — commitment to v1 + v2 can be computed by multiplying commitments: C1 * C2 = g^(v1+v2) * h^(r1+r2). (2) Zero-knowledge proofs for auditing: Range proofs — prove that v >= 0 without revealing v. Prevents negative balances. Uses Bulletproofs-style range proofs for efficiency. Balance proofs — prove that the sum of all transaction amounts in a column (per asset) equals a known value (zero for conservation) by demonstrating that the product of commitments is a commitment to zero. Limit proofs — prove that v <= L (some regulatory limit) without revealing v. Constructed by proving v is in range [0, L]. Equality proofs — prove that two commitments hide the same value, used for cross-asset auditing. (3) Audit protocol: The auditor specifies which property to verify. The bank computes a zero-knowledge proof. The auditor verifies the proof — convinced of the property without learning the actual values. Proof verification is fast (milliseconds) regardless of the number of transactions.",
      "nodes": []
    },
    {
      "node_id": "3",
      "title": "Ledger Architecture and Transaction Processing",
      "summary": "Describes how zkLedger organizes transactions in a tabular structure where rows represent transactions and columns represent banks/participants. Each cell contains a Pedersen commitment to the bank's balance change for that transaction. A positive value means the bank received assets; a negative value means it sent assets. The row constraint ensures conservation: the sum of all values in a row is zero (assets are transferred, not created). The column running total represents each bank's current balance. When a transaction is added, the participating banks publish commitments and zero-knowledge proofs. Auditors can verify conservation and non-negative balances without seeing amounts.",
      "start_page": 7,
      "end_page": 10,
      "content": "zkLedger uses a tabular ledger structure: Rows = transactions, Columns = participants (banks). Each cell (i,j) contains a Pedersen commitment to participant j's balance change in transaction i. Example: Bank A sends $100 to Bank B in transaction #5. Cell (5,A) commits to -100, Cell (5,B) commits to +100, all other cells commit to 0. Conservation property: the sum of all values in each row is zero. This is verified by checking that the product of all commitments in the row is a commitment to zero (using the homomorphic property). No individual amount is revealed. Balance computation: each bank's current balance is the running sum of its column. The commitment to the current balance is the product of all commitments in the column. A range proof on this product demonstrates non-negative balance. Transaction protocol: (1) Participating banks agree on amounts. (2) Each bank publishes a commitment to its balance change and zero-knowledge proofs of: (a) correct commitment format, (b) conservation (row sum = 0), and (c) non-negative resulting balance. (3) Other banks and auditors verify the proofs. (4) The transaction is appended to the ledger. Performance: commitment and proof generation takes ~1ms per cell. Verification takes <1ms per cell. A transaction involving 2 banks with 10 total participants requires ~10ms total.",
      "nodes": []
    },
    {
      "node_id": "4",
      "title": "Audit Capabilities and Regulatory Applications",
      "summary": "Details the specific audit operations zkLedger supports and their regulatory applications. Supported operations: (1) Total asset verification — auditor checks that a bank's total assets match reported figures. (2) Transaction-level compliance — verify individual transactions meet regulatory thresholds without seeing amounts. (3) Cross-bank aggregate analysis — compute system-wide statistics (total inter-bank flows, net positions) without seeing individual transactions. (4) Specific transaction investigation — with a court order, a bank can selectively reveal specific transactions by disclosing the blinding factor. The paper maps these capabilities to real regulatory requirements: Basel III capital ratios, AML transaction monitoring, tax reporting, and sanctions screening.",
      "start_page": 10,
      "end_page": 13,
      "content": "zkLedger audit capabilities mapped to regulatory requirements: (1) Basel III compliance — auditors verify that a bank's total assets exceed its risk-weighted liabilities by the required ratio, using homomorphic commitment arithmetic. The bank's total committed position can be verified against the capital requirement without revealing individual positions. (2) AML monitoring — auditors can verify that no single transaction exceeds the reporting threshold ($10,000 in the US) using range proofs. If a transaction exceeds the threshold, the bank provides a SAR (Suspicious Activity Report) with details. The zero-knowledge proof ensures the threshold check is honest. (3) Tax reporting — aggregate income/outflow for a tax period can be proven to match reported figures. The auditor verifies commitment arithmetic without seeing individual transactions. (4) Sanctions screening — banks prove that counterparties are not on sanctions lists using set membership proofs (zero-knowledge proof that the counterparty's identity is not in the sanctioned set). (5) Selective disclosure — with legal authorization, a bank reveals the blinding factor r for specific commitments, allowing the auditor to open those commitments and see the actual amounts. This provides a graduated privacy model: routine auditing uses ZK proofs, investigations use selective disclosure. Performance evaluation: zkLedger handles 10,000 transactions across 100 banks with audit latency under 1 second for aggregate queries.",
      "nodes": []
    },
    {
      "node_id": "5",
      "title": "Performance Evaluation and Limitations",
      "summary": "Presents benchmark results and discusses limitations. zkLedger achieves throughput of approximately 10,000 transactions per second on commodity hardware, with audit queries completing in under 1 second even for ledgers with millions of entries. Proof sizes are small (a few hundred bytes per cell). Limitations include: the tabular structure requires all participants to be known (not suitable for open-membership systems), commitment storage grows linearly with participants × transactions, and the system doesn't support smart contracts or complex transaction types. The paper discusses how zkLedger's techniques could be integrated into other ledger systems and combined with more expressive zero-knowledge proof systems.",
      "start_page": 13,
      "end_page": 16,
      "content": "Performance benchmarks: Transaction throughput: ~10,000 tx/sec on a single modern server (commitment and proof generation are parallelizable). Audit query latency: <1 second for aggregate balance verification across 100 banks with 1 million transactions. Proof sizes: 288 bytes per cell (Pedersen commitment + Schnorr proof). Range proofs add ~600 bytes when needed. Storage: 10,000 transactions × 100 banks = 1M cells × ~300 bytes = ~300 MB. Grows linearly. Limitations: (1) Fixed participant set — the tabular structure requires knowing all participants upfront. Adding participants requires restructuring. Not suitable for open-membership (permissionless) systems. (2) Linear storage — every participant must store a commitment for every transaction, even if they weren't involved (zero-value commitment). With 1,000 banks and 100M transactions, storage reaches ~30 GB. (3) No smart contracts — zkLedger handles value transfers only, not programmable logic. Combining with smart contract privacy (like PArSEC) is future work. (4) Trusted setup — the Pedersen commitment parameters (g, h) must be generated honestly. If the discrete log relationship between g and h is known to an adversary, they can forge commitments. Standard setup ceremonies address this. Future work: integration with CBDC systems (OpenCBDC/Hamilton), support for multi-asset transactions, and more expressive zero-knowledge proofs for complex compliance rules.",
      "nodes": []
    }
  ],
  "_metadata": {
    "source_file": "zkledger.pdf",
    "total_pages": 16,
    "source_path": "",
    "authors": ["Neha Narula", "Willy Vasquez", "Madars Virza"],
    "venue": "USENIX NSDI 2018",
    "year": 2018
  }
}
